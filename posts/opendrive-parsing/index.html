<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Getting data from OpenDRIVE HD maps!" /><meta name="author" content="Marcel Bruckner" /><meta property="og:locale" content="en_US" /><meta name="description" content="During my Guided Research I was given some HD maps of some part of the highway A9 near Munich, Germany. I use these maps to get the world positions of landmarks like delineators, road signs, trees… These landmarks are then matched with some video footage of cameras mounted on gantry bridges." /><meta property="og:description" content="During my Guided Research I was given some HD maps of some part of the highway A9 near Munich, Germany. I use these maps to get the world positions of landmarks like delineators, road signs, trees… These landmarks are then matched with some video footage of cameras mounted on gantry bridges." /><link rel="canonical" href="/posts/opendrive-parsing/" /><meta property="og:url" content="/posts/opendrive-parsing/" /><meta property="og:site_name" content="End-to-End Computer Vision and Machine Learning master’s student" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-02-18T19:55:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Getting data from OpenDRIVE HD maps!" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Marcel Bruckner"},"description":"During my Guided Research I was given some HD maps of some part of the highway A9 near Munich, Germany. I use these maps to get the world positions of landmarks like delineators, road signs, trees… These landmarks are then matched with some video footage of cameras mounted on gantry bridges.","headline":"Getting data from OpenDRIVE HD maps!","dateModified":"2021-02-18T19:55:00+01:00","datePublished":"2021-02-18T19:55:00+01:00","url":"/posts/opendrive-parsing/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/opendrive-parsing/"},"@context":"https://schema.org"}</script><title>Getting data from OpenDRIVE HD maps! | End-to-End Computer Vision and Machine Learning master's student</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://raw.githubusercontent.com/Brucknem/CDN/main/blog/me_square.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">End-to-End<br /> Computer Vision<br /> and<br /> Machine Learning<br /> master's student</a></div><div class="site-subtitle font-italic">Living in Munich<br /> Studying @ TUM</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/brucknem" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['mbruckner94','gmail.com'].join('@')" aria-label="email" class="order-4" > <i class="fas fa-envelope"></i> </a> <a href="https://linkedin.com/in/marcel-bruckner-483a6a183" aria-label="linkedin" class="order-5" target="_blank" rel="noopener"> <i class="fab fa-linkedin-in"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Getting data from OpenDRIVE HD maps!</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Getting data from OpenDRIVE HD maps!</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Thu, Feb 18, 2021, 7:55 PM +0100" > Feb 18 <i class="unloaded">2021-02-18T19:55:00+01:00</i> </span> by <span class="author"> Marcel Bruckner </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="990 words">5 min</span></div></div><div class="post-content"><p> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://raw.githubusercontent.com/Brucknem/CDN/main/blog/posts/2021-02-16-opendrive-parsing/highway_exit_south.png" class="preview-img" alt="A part of the the highway A9 near Munich in a HD map."> <em class="preview-caption">A part of the the highway A9 near Munich in a HD map.</em></p><p>During my <a href="/posts/guided-research/">Guided Research</a> I was given some HD maps of some part of the <a href="https://www.google.de/maps/place/A9,+Garching+bei+M%C3%BCnchen/@48.2395578,11.632844,4154m/data=!3m1!1e3!4m5!3m4!1s0x47a11d231dc12da1:0xd702677ee0331ed4!8m2!3d48.2385588!4d11.637908">highway A9 near Munich, Germany</a>. I use these maps to get the world positions of landmarks like delineators, road signs, trees… These landmarks are then matched with some video footage of cameras mounted on gantry bridges.</p><p>My final goal is to minimize the reprojection error from the landmarks and the corresponding video pixels to find the camera world pose (the extrinsic parameters).</p><h1 id="opendrive-parser--query-implementation">OpenDRIVE parser &amp; query implementation</h1><p>I am currently implementing a parser for these maps, which are in the <a href="https://www.asam.net/index.php?eID=dumpFile&amp;t=f&amp;f=3495&amp;token=56b15ffd9dfe23ad8f759523c806fc1f1a90a0e8#">OpenDRIVE</a> format. This is an XML format which is pretty complex and thus powerful. It’s the industry standard to describe road networks.</p><h2 id="converting-xml-to-c">Converting XML to C++</h2><p>I was struggling really hard with the implementation of the parser, and it took me around a week to find out how to implement it. The good thing is that <a href="https://www.asam.net/standards/detail/opendrive/">ASAM</a> provides a free XML schema definition (XSD) which describes how OpenDRIVE files have to be structured. The hard part was to get the definition into code so that I can process the data.</p><p>The first thing I thought of was to use an XML to C++ compiler which should generate C++ data bindings from the XSD files. I quickly found the <a href="https://www.codesynthesis.com/products/xsd/">Code Synthesis</a> data binding compiler, but I couldn’t get it to work at all for the OpenDRIVE V1.6 standard. I thus tried to implement the standard by hand, which did turn out to be not feasibly at all, so I again searched for ready made solutions or how to use the compiler.</p><p>Eventually, after around one week of despair, I finally found out that our maps conform to the OpenDRIVE <strong>V1.4</strong> standard. I then gave the data binding compiler another try and <em>voila</em>, after another day of fiddling around, it works as I expect it to do and produces code that can parse the HD maps. I can now represent the data as a nice object model. <em>What a relief!</em></p><h2 id="geometric-primitives-define-road-segments">Geometric primitives define road segments</h2><p>OpenDRIVE defines <a href="https://www.asam.net/index.php?eID=dumpFile&amp;t=f&amp;f=3495&amp;token=56b15ffd9dfe23ad8f759523c806fc1f1a90a0e8#_roads">roads</a> as a collection of five different <a href="https://www.asam.net/index.php?eID=dumpFile&amp;t=f&amp;f=3495&amp;token=56b15ffd9dfe23ad8f759523c806fc1f1a90a0e8#_geometry">geometric primitives</a>: <a href="https://www.asam.net/index.php?eID=dumpFile&amp;t=f&amp;f=3495&amp;token=56b15ffd9dfe23ad8f759523c806fc1f1a90a0e8#_straight_line">lines</a>, <a href="https://www.asam.net/index.php?eID=dumpFile&amp;t=f&amp;f=3495&amp;token=56b15ffd9dfe23ad8f759523c806fc1f1a90a0e8#__spirals">spirals</a>, <a href="https://www.asam.net/index.php?eID=dumpFile&amp;t=f&amp;f=3495&amp;token=56b15ffd9dfe23ad8f759523c806fc1f1a90a0e8#_arc">arcs</a>, <a href="https://www.asam.net/index.php?eID=dumpFile&amp;t=f&amp;f=3495&amp;token=56b15ffd9dfe23ad8f759523c806fc1f1a90a0e8#_cubic_polynom">cubic polynoms</a> (which are deprecated) and <a href="https://www.asam.net/index.php?eID=dumpFile&amp;t=f&amp;f=3495&amp;token=56b15ffd9dfe23ad8f759523c806fc1f1a90a0e8#_parametric_cubic_curve">parametric cubic curves</a>. These primitives are stacked together along a <a href="https://www.asam.net/index.php?eID=dumpFile&amp;t=f&amp;f=3495&amp;token=56b15ffd9dfe23ad8f759523c806fc1f1a90a0e8#_reference_line">reference line</a> and thus define the roads shape in the <a href="https://www.asam.net/index.php?eID=dumpFile&amp;t=f&amp;f=3495&amp;token=56b15ffd9dfe23ad8f759523c806fc1f1a90a0e8#_coordinate_systems">\((x, y)\)-plane</a>. The plane itself is the earth <a href="https://www.asam.net/index.php?eID=dumpFile&amp;t=f&amp;f=3495&amp;token=56b15ffd9dfe23ad8f759523c806fc1f1a90a0e8#_georeferencing_in_opendrive">projected</a> onto a flat surface. You can imaging this like unrolling the globe into a flat map. With the <a href="#converting-xml-to-c">parser</a> from the previous section retrieving these primitives is straightforward.</p><p>The landmarks I’m interested in are defined as <a href="https://www.asam.net/index.php?eID=dumpFile&amp;t=f&amp;f=3495&amp;token=56b15ffd9dfe23ad8f759523c806fc1f1a90a0e8#_objects">objects</a> and <a href="https://www.asam.net/index.php?eID=dumpFile&amp;t=f&amp;f=3495&amp;token=56b15ffd9dfe23ad8f759523c806fc1f1a90a0e8#_signals">signals</a> in the OpenDRIVE standard. The position of these landmarks is given as the \(s\)-coordinate along the reference line. To calculate the world position of the landmarks in the \((x, y)\)-plane I have to interpolate along the geometric primitives.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://raw.githubusercontent.com/Brucknem/CDN/main/blog/posts/2021-02-16-opendrive-parsing/line.png" alt="Line interpolation" width="75%" /> <em>A line going from \((-47, 0.7)^T\) to \((-0.7, 35.5)^T\).</em></p><p>For a line the interpolation is easy. Just go from the start some amount into the heading direction.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://raw.githubusercontent.com/Brucknem/CDN/main/blog/posts/2021-02-16-opendrive-parsing/paramPoly3.png" alt="Parametric cubic curve interpolation" width="75%" /> <em>A parametric cubic curve going from \((3.1, 1.4)^T\) to \((4.7, 4.8)^T\).</em></p><p>For a parametric cubic curve the interpolation is a bit trickier. The resulting coordinate along the curve can be calculated with the given <a href="https://www.asam.net/index.php?eID=dumpFile&amp;t=f&amp;f=3495&amp;token=56b15ffd9dfe23ad8f759523c806fc1f1a90a0e8#_parametric_cubic_curve">parameters and formulae</a>:</p>\[u(p) = aU + bU*p + cU*p^2 + dU*p^3\] \[v(p) = aV + bV*p + cV*p^2 + dV*p^3\]<h2 id="roads-are-composed-by-geometric-primitives">Roads are composed by geometric primitives</h2><p>Roads often change their shape as they have to adjust to the local surface conditions and terrain properties. To model these changes OpenDRIVE composes roads by stacking geometric primitives. This gives the flexibility to model <a href="https://www.asam.net/index.php?eID=dumpFile&amp;t=f&amp;f=3495&amp;token=56b15ffd9dfe23ad8f759523c806fc1f1a90a0e8#_generating_arbitrary_road_courses_from_geometry_elements">arbitrary road shapes</a>.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://raw.githubusercontent.com/Brucknem/CDN/main/blog/posts/2021-02-16-opendrive-parsing/stacking_primitives.png" alt="Stacking geometric primitves" width="100%" /> <em>Roads are defined by stacking the geometric primitives. The primitives also define the curvature and thus directly the angle of the steering wheel.</em></p><h2 id="landmarks-along-the-road-with-s-and-t-coordinates">Landmarks along the road with \(s\) and \(t\) coordinates</h2><p>The OpenDRIVE standard defines the locations of <a href="https://www.asam.net/index.php?eID=dumpFile&amp;t=f&amp;f=3495&amp;token=56b15ffd9dfe23ad8f759523c806fc1f1a90a0e8#_objects">objects</a> and <a href="https://www.asam.net/index.php?eID=dumpFile&amp;t=f&amp;f=3495&amp;token=56b15ffd9dfe23ad8f759523c806fc1f1a90a0e8#_signals">signals</a> relative to the reference line. The \(s\)-coordinate defines how far the object is from the start of the road. The \(t\)-coordinate defines how far the object is offset to the left or right of the reference line.</p><p>Together with the roads world position, the geometries, the geometric primitives and the \(s\)- and \(t\)-coordinates I am now able to calculate the world position of the landmarks I am interested in (in the \((x, y)\)-plane). Here are some google links with the coordinates that show a <a href="https://www.google.de/maps/place/48%C2%B010'33.8%22N+11%C2%B035'27.7%22E/@48.1760579,11.5888264,17z/data=!4m5!3m4!1s0x0:0x0!8m2!3d48.1760579!4d11.5910151">tree</a>, a <a href="https://www.google.de/maps/place/48%C2%B010'30.5%22N+11%C2%B035'27.5%22E/@48.1751013,11.5908173,65m/data=!3m1!1e3!4m5!3m4!1s0x0:0x0!8m2!3d48.1751242!4d11.59098">delineator</a> and a <a href="https://www.google.de/maps/place/48%C2%B010'32.7%22N+11%C2%B035'34.4%22E/@48.1757256,11.5927528,65m/data=!3m1!1e3!4m5!3m4!1s0x0:0x0!8m2!3d48.1757516!4d11.5928758">streetlamp</a>. Be aware that the calculated positions from the HD map do not exactly align with the Google Maps positions as Google takes images from satellites in <a href="https://aerospace.csis.org/aerospace101/popular-orbits-101/#:~:text=The%20majority%20of%20satellites%20orbiting,full%20orbit%20around%20the%20Earth.">low earth orbit</a>, thus from a high of 160 km to 2000 km above ground. It’s a wonder that Google can provide the google maps service at all with images taken from that far, so please be patient with any inaccuracy.</p><h1 id="ongoing-work">Ongoing work</h1><p>As the calculation of the world positions is now finished in the \((x, y)\)-plane I will now focus on the height of the objects. These can be calculated using the different road shape attributes, i.e. the <a href="https://www.asam.net/index.php?eID=dumpFile&amp;t=f&amp;f=3495&amp;token=56b15ffd9dfe23ad8f759523c806fc1f1a90a0e8#_methods_of_elevation">elevation</a>.</p><h1 id="implementation">Implementation</h1><p>At my <a href="https://github.com/Brucknem/OpenDRIVE">OpenDRIVE</a> github repository you can have a look at the implementation.</p><h1 id="example-images">Example images</h1><p>The images each show a part of the highway A9 near Munich. In the images taken from the map you see the roads in green and the relevant landmarks in violet. There is also one delineator highlighted in red.</p><h2 id="complete-camera-view">Complete camera view</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://raw.githubusercontent.com/Brucknem/CDN/main/blog/posts/2021-02-16-opendrive-parsing/map_view.png" alt="Map part of the highway A9" width="100%" /> <em>A part of the the highway A9 near Munich in the HD map.</em></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://raw.githubusercontent.com/Brucknem/CDN/main/blog/posts/2021-02-16-opendrive-parsing/camera_view.png" alt="Map part of the highway A9" width="100%" /> <em>More or less the same part of the the highway A9 near Munich viewed from a camera mounted on a gantry bridge.</em></p><h2 id="zoomed-towards-the-highway-exit">Zoomed towards the highway exit</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://raw.githubusercontent.com/Brucknem/CDN/main/blog/posts/2021-02-16-opendrive-parsing/map_exit.png" alt="Map part of the highway A9" width="100%" /> <em>The same part of the the highway A9 near Munich, zoomed towards the highway exit, in the HD map.</em></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://raw.githubusercontent.com/Brucknem/CDN/main/blog/posts/2021-02-16-opendrive-parsing/camera_exit.png" alt="Map part of the highway A9" width="100%" /> <em>The same part of the the highway A9 near Munich, zoomed towards the highway exit, from a camera mounted on a gantry bridge.</em></p><h1 id="references">References</h1><ul><li>The images for the posts are hosted on my other <a href="https://github.com/Brucknem/CDN/tree/main/blog/posts/2021-02-16-opendrive-parsing">Github</a>. There are also the links to the original sources given.</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/studies/'>Studies</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/coding/" class="post-tag no-text-decoration" >coding</a> <a href="/tags/guided-research/" class="post-tag no-text-decoration" >guided-research</a> <a href="/tags/autonomous-driving/" class="post-tag no-text-decoration" >autonomous-driving</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Getting data from OpenDRIVE HD maps! - End-to-End Computer Vision and Machine Learning master's student&url=/posts/opendrive-parsing/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Getting data from OpenDRIVE HD maps! - End-to-End Computer Vision and Machine Learning master's student&u=/posts/opendrive-parsing/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Getting data from OpenDRIVE HD maps! - End-to-End Computer Vision and Machine Learning master's student&url=/posts/opendrive-parsing/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/guided-research/">Automated Camera Stabilization and Calibration for Intelligent Transportation Systems</a><li><a href="/posts/making-about/">Writing an About page!</a><li><a href="/posts/including-cmake-github-projects/">Include CMake projects from Github!</a><li><a href="/posts/curriculum/">My journey!</a><li><a href="/posts/welcome-to-brucknem/">Welcome to my site!</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/coding/">coding</a> <a class="post-tag" href="/tags/autonomous-driving/">autonomous-driving</a> <a class="post-tag" href="/tags/guided-research/">guided-research</a> <a class="post-tag" href="/tags/tutorials/">tutorials</a> <a class="post-tag" href="/tags/about/">about</a> <a class="post-tag" href="/tags/cmake/">cmake</a> <a class="post-tag" href="/tags/computer-vision/">computer-vision</a> <a class="post-tag" href="/tags/curriculum/">curriculum</a> <a class="post-tag" href="/tags/github/">github</a> <a class="post-tag" href="/tags/links/">links</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/guided-research/"><div class="card-body"> <span class="timeago small" > Feb 12 <i class="unloaded">2021-02-12T13:52:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Automated Camera Stabilization and Calibration for Intelligent Transportation Systems</h3><div class="text-muted small"><p> Within the PROVIDENTIA++ project, a section of the highway A9 between Munich and Nuremberg was converted to a testing site for autonomous driving. As part of this, a large sensor network system has...</p></div></div></a></div><div class="card"> <a href="/posts/including-cmake-github-projects/"><div class="card-body"> <span class="timeago small" > Feb 16 <i class="unloaded">2021-02-16T15:51:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Include CMake projects from Github!</h3><div class="text-muted small"><p> When I develop a CMake based project I often want to include other CMake projects into mine. Gladly CMake offers a quick and easy way on how to automatically pull the other project from Github, bui...</p></div></div></a></div><div class="card"> <a href="/posts/links-to-remark/"><div class="card-body"> <span class="timeago small" > Mar 12 <i class="unloaded">2021-03-12T20:55:00+01:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Links to remark!</h3><div class="text-muted small"><p> Papers A great paper explaining the ins and outs of Bundle Adjustment Tutorials How to stream the Raspberry Pi camera using flask Original My implementation</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/including-cmake-github-projects/" class="btn btn-outline-primary" prompt="Older"><p>Include CMake projects from Github!</p></a> <a href="/posts/links-to-remark/" class="btn btn-outline-primary" prompt="Newer"><p>Links to remark!</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> Hi there, I'm a master's student in Informatics: Games Engineering at TUM, Germany. My interests are Computer Vision and Machine Learning with a focus on beautiful and nice code. I work at CQSE, a great company focused on software engineering and code quality.</p></div><div class="footer-right"><p class="mb-0"> © 2021 <a href="https://github.com/brucknem">Marcel Bruckner</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p><p></p><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/coding/">coding</a> <a class="post-tag" href="/tags/autonomous-driving/">autonomous driving</a> <a class="post-tag" href="/tags/guided-research/">guided research</a> <a class="post-tag" href="/tags/tutorials/">tutorials</a> <a class="post-tag" href="/tags/about/">about</a> <a class="post-tag" href="/tags/cmake/">cmake</a> <a class="post-tag" href="/tags/computer-vision/">computer vision</a> <a class="post-tag" href="/tags/curriculum/">curriculum</a> <a class="post-tag" href="/tags/github/">github</a> <a class="post-tag" href="/tags/links/">links</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
